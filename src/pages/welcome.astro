---
import Cta from "@/components/Cta.astro";
import LoginRegister from "@/lib/components/svelte/LoginRegister.svelte";
import Base from "@/layouts/Base.astro";
import Image from "astro/components/Image.astro";
import { getEntryBySlug } from "astro:content";

const homepage = await getEntryBySlug("homepage", "index");
const { workflow, call_to_action } = homepage.data;
---

<Base>
  <div class="flex flex-col-reverse md:flex-row">
    <section class="place-self-center p-0 md:ml-96 w-11/12">
      <Cta cta={call_to_action} />
    </section>
    <section class="w-5/6 mt-12 ml-12 z-50">
      <div class="row text-center">
        <div class="col-12 lg:col-8 ml-2">
          <div class="flex flex-col justify-center">
            <LoginRegister client:load/>
          </div>
        </div>
      </div>
    </section>
  </div>
  <!-- Workflow -->
  <section class="section -mt-10 pb-0">
    <div class="mb-8 -ml-12 text-center place-self-center">
      <h2
        class="mx-auto max-w-[400px] font-bold leading-[44px]"
        set:html={workflow?.title}
      />
      <p class="mt-3" set:html={workflow?.description} />
    </div>
    <Image
      src={workflow!.image}
      alt="workflow image"
      width={1920}
      height={414}
    />
  </section>
</Base>
